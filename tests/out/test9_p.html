<!DOCTYPE html>
<html>
 <head>
  <title>canvas</title>
  <meta charset="utf-8">
  <script> 
var outputRepr = {"size":{"x":700,"y":700},"camera":[[0.5833333,0,0],[0,-0.5833333,0],[58.333332,641.6666,1]],"edges":[],"rays":[],"dots":[{"x":866.7567,"y":736.1322},{"x":746.8551,"y":882.10205},{"x":762.16595,"y":516.60944},{"x":132.92659,"y":409.61026},{"x":437.46838,"y":375.41336},{"x":753.8641,"y":874.5249},{"x":784.44507,"y":235.38084},{"x":564.91565,"y":807.9144},{"x":289.3894,"y":731.1156},{"x":758.2414,"y":837.5734},{"x":711.17633,"y":237.99817},{"x":523.1482,"y":625.4324},{"x":114.338486,"y":570.2055},{"x":148.71274,"y":459.99216},{"x":322.3993,"y":124.70445},{"x":648.0606,"y":721.7813},{"x":443.17245,"y":801.4348},{"x":266.06604,"y":767.3147},{"x":520.8376,"y":442.90982},{"x":193.32327,"y":747.6254},{"x":460.22116,"y":459.54977},{"x":799.59076,"y":544.4195},{"x":617.602,"y":691.7981},{"x":443.016,"y":824.15454},{"x":748.65814,"y":750.9551},{"x":129.70796,"y":273.03137},{"x":636.097,"y":786.8734},{"x":867.8758,"y":728.75854},{"x":312.98404,"y":221.42279},{"x":867.76355,"y":291.96045},{"x":467.89667,"y":572.93445},{"x":187.21097,"y":412.76392},{"x":627.3527,"y":132.08281},{"x":531.3524,"y":883.01025},{"x":869.3148,"y":697.60095},{"x":387.07684,"y":746.4796},{"x":637.79236,"y":110.61601},{"x":477.3523,"y":351.62656},{"x":338.40744,"y":878.7287},{"x":107.83038,"y":322.5404},{"x":227.18948,"y":224.55821},{"x":611.334,"y":471.4442},{"x":894.9965,"y":475.02927},{"x":185.6843,"y":556.2991},{"x":833.5591,"y":437.3075},{"x":554.3306,"y":399.41483},{"x":475.14624,"y":801.36285},{"x":379.72873,"y":787.2867},{"x":372.3388,"y":486.82678},{"x":817.0668,"y":585.51917},{"x":260.44565,"y":460.00574},{"x":854.8397,"y":151.05719},{"x":463.87827,"y":283.2284},{"x":535.239,"y":625.481},{"x":409.5211,"y":616.2492},{"x":490.35107,"y":334.25537},{"x":213.5924,"y":645.2232},{"x":164.77094,"y":343.33847},{"x":861.60046,"y":615.7668},{"x":417.76746,"y":252.32346},{"x":846.3985,"y":875.05334},{"x":149.45117,"y":532.0073},{"x":243.2703,"y":887.662},{"x":371.33334,"y":736.4295},{"x":630.8873,"y":590.06555},{"x":879.2878,"y":751.5807},{"x":161.6619,"y":422.31125},{"x":162.09476,"y":667.1837},{"x":269.7185,"y":560.27686},{"x":107.56593,"y":711.7681},{"x":839.7902,"y":460.20328},{"x":246.778,"y":317.30988},{"x":846.9564,"y":320.07526},{"x":285.82245,"y":729.9231},{"x":736.5919,"y":136.39026},{"x":825.6863,"y":656.5721},{"x":169.05933,"y":664.7433},{"x":639.1206,"y":285.39227},{"x":410.55457,"y":422.8324},{"x":807.78687,"y":476.21628},{"x":811.895,"y":698.8096},{"x":894.5937,"y":719.4555},{"x":636.9614,"y":638.7704},{"x":272.5935,"y":691.2812},{"x":583.1284,"y":397.58722},{"x":173.61996,"y":401.32364},{"x":608.2008,"y":605.9993},{"x":312.53323,"y":486.19522},{"x":728.2753,"y":732.1413},{"x":585.0509,"y":823.195},{"x":701.83954,"y":541.4103},{"x":899.8376,"y":594.4971},{"x":664.37933,"y":322.7157},{"x":682.52136,"y":396.9186}],"polygons":[{"dots":[{"x":474.84003,"y":0},{"x":476.8784,"y":45.63256},{"x":681.54144,"y":145.16376},{"x":719.41077,"y":0}]},{"dots":[{"x":476.8784,"y":45.63256},{"x":474.84003,"y":0},{"x":91.64523,"y":0},{"x":268.08563,"y":168.2346},{"x":382.3374,"y":179.3567},{"x":475.32425,"y":109.86869}]},{"dots":[{"x":681.54144,"y":145.16376},{"x":476.8784,"y":45.63256},{"x":475.32425,"y":109.86869},{"x":508.2232,"y":167.21326},{"x":552.3559,"y":214.94585},{"x":639.9757,"y":208.22028},{"x":680.3138,"y":176.2972}]},{"dots":[{"x":719.41077,"y":0},{"x":681.54144,"y":145.16376},{"x":680.3138,"y":176.2972},{"x":746.24243,"y":192.78677},{"x":792.39777,"y":170.47476},{"x":813.54266,"y":0}]},{"dots":[{"x":813.54266,"y":0},{"x":792.39777,"y":170.47476},{"x":854.29926,"y":222.1511},{"x":1000,"y":208.78734},{"x":1000.0001,"y":0}]},{"dots":[{"x":382.3374,"y":179.3567},{"x":268.08563,"y":168.2346},{"x":271.5719,"y":263.62927},{"x":342.95132,"y":312.91376}]},{"dots":[{"x":268.08563,"y":168.2346},{"x":91.64523,"y":0},{"x":54.73429,"y":0},{"x":193.97429,"y":280.01733},{"x":271.5719,"y":263.62927}]},{"dots":[{"x":792.39777,"y":170.47476},{"x":746.24243,"y":192.78677},{"x":750.6104,"y":315.06494},{"x":755.67706,"y":322.03036},{"x":817.4199,"y":276.4592},{"x":854.29926,"y":222.1511}]},{"dots":[{"x":746.24243,"y":192.78677},{"x":680.3138,"y":176.2972},{"x":639.9757,"y":208.22028},{"x":687.22064,"y":280.04913},{"x":750.6104,"y":315.06494}]},{"dots":[{"x":475.32425,"y":109.86869},{"x":382.3374,"y":179.3567},{"x":342.95132,"y":312.91376},{"x":348.14832,"y":326.5878},{"x":407.8048,"y":317.03958},{"x":508.2232,"y":167.21326}]},{"dots":[{"x":193.97429,"y":280.01733},{"x":54.73429,"y":0},{"x":0,"y":0},{"x":0,"y":245.30286},{"x":144.91995,"y":309.34167},{"x":191.70865,"y":286.00763}]},{"dots":[{"x":508.2232,"y":167.21326},{"x":407.8048,"y":317.03958},{"x":434.19916,"y":324.60126},{"x":454.10315,"y":320.68027},{"x":551.6754,"y":270.05975},{"x":552.3559,"y":214.94585}]},{"dots":[{"x":639.9757,"y":208.22028},{"x":552.3559,"y":214.94585},{"x":551.6754,"y":270.05975},{"x":568.08093,"y":320.00836},{"x":602.6688,"y":337.26984},{"x":687.22064,"y":280.04913}]},{"dots":[{"x":1000,"y":208.78734},{"x":854.29926,"y":222.1511},{"x":817.4199,"y":276.4592},{"x":948.547,"y":373.5032},{"x":1000,"y":365.84906}]},{"dots":[{"x":271.5719,"y":263.62927},{"x":193.97429,"y":280.01733},{"x":191.70865,"y":286.00763},{"x":216.74211,"y":364.87943},{"x":254.6819,"y":388.5553},{"x":320.8396,"y":382.21863},{"x":340.49084,"y":351.71887},{"x":348.14832,"y":326.5878},{"x":342.95132,"y":312.91376}]},{"dots":[{"x":948.547,"y":373.5032},{"x":817.4199,"y":276.4592},{"x":755.67706,"y":322.03036},{"x":755.9319,"y":339.65103},{"x":770.44794,"y":370.7136},{"x":907.1538,"y":386.3363}]},{"dots":[{"x":144.91995,"y":309.34167},{"x":0,"y":245.30286},{"x":0,"y":400.77213},{"x":124.64681,"y":364.84512}]},{"dots":[{"x":687.22064,"y":280.04913},{"x":602.6688,"y":337.26984},{"x":632.6402,"y":369.7949},{"x":755.9319,"y":339.65103},{"x":755.67706,"y":322.03036},{"x":750.6104,"y":315.06494}]},{"dots":[{"x":551.6754,"y":270.05975},{"x":454.10315,"y":320.68027},{"x":519.5047,"y":369.61996},{"x":564.1167,"y":325.81567},{"x":568.08093,"y":320.00836}]},{"dots":[{"x":191.70865,"y":286.00763},{"x":144.91995,"y":309.34167},{"x":124.64681,"y":364.84512},{"x":147.2089,"y":375.6864},{"x":215.5955,"y":365.25},{"x":216.74211,"y":364.87943}]},{"dots":[{"x":519.5047,"y":369.61996},{"x":454.10315,"y":320.68027},{"x":434.19916,"y":324.60126},{"x":482.30734,"y":405.26538},{"x":503.7035,"y":395.07272}]},{"dots":[{"x":482.30734,"y":405.26538},{"x":434.19916,"y":324.60126},{"x":407.8048,"y":317.03958},{"x":348.14832,"y":326.5878},{"x":340.49084,"y":351.71887},{"x":453.93304,"y":416.10556},{"x":479.02466,"y":409.3201}]},{"dots":[{"x":755.9319,"y":339.65103},{"x":632.6402,"y":369.7949},{"x":632.9837,"y":420.86203},{"x":684.61066,"y":470.17645},{"x":706.6067,"y":467.2357},{"x":739.6655,"y":445.2377},{"x":758.45764,"y":415.55206},{"x":770.44794,"y":370.7136}]},{"dots":[{"x":602.6688,"y":337.26984},{"x":568.08093,"y":320.00836},{"x":564.1167,"y":325.81567},{"x":571.63544,"y":444.2903},{"x":632.9837,"y":420.86203},{"x":632.6402,"y":369.7949}]},{"dots":[{"x":564.1167,"y":325.81567},{"x":519.5047,"y":369.61996},{"x":503.7035,"y":395.07272},{"x":569.6547,"y":445.8581},{"x":571.63544,"y":444.2903}]},{"dots":[{"x":215.5955,"y":365.25},{"x":147.2089,"y":375.6864},{"x":152.85042,"y":403.39035},{"x":173.55891,"y":415.18933}]},{"dots":[{"x":147.2089,"y":375.6864},{"x":124.64681,"y":364.84512},{"x":0,"y":400.77213},{"x":0,"y":475.59802},{"x":7.751958,"y":476.4953},{"x":138.66891,"y":435.4751},{"x":152.85042,"y":403.39035}]},{"dots":[{"x":215.5955,"y":365.25},{"x":173.55891,"y":415.18933},{"x":187.397,"y":452.22067},{"x":204.57845,"y":466.22617},{"x":254.6819,"y":388.5553},{"x":216.74211,"y":364.87943}]},{"dots":[{"x":173.55891,"y":415.18933},{"x":152.85042,"y":403.39035},{"x":138.66891,"y":435.4751},{"x":187.397,"y":452.22067}]},{"dots":[{"x":453.93304,"y":416.10556},{"x":340.49084,"y":351.71887},{"x":320.8396,"y":382.21863},{"x":324.58337,"y":397.33643},{"x":343.07556,"y":425.94357},{"x":414.9355,"y":468.85648}]},{"dots":[{"x":907.1538,"y":386.3363},{"x":770.44794,"y":370.7136},{"x":758.45764,"y":415.55206},{"x":816.76556,"y":454.17374},{"x":875.2802,"y":438.24878}]},{"dots":[{"x":569.6547,"y":445.8581},{"x":503.7035,"y":395.07272},{"x":482.30734,"y":405.26538},{"x":479.02466,"y":409.3201},{"x":507.5675,"y":513.2968},{"x":543.74603,"y":528.0273}]},{"dots":[{"x":479.02466,"y":409.3201},{"x":453.93304,"y":416.10556},{"x":414.9355,"y":468.85648},{"x":430.3513,"y":518.5239},{"x":507.5675,"y":513.2968}]},{"dots":[{"x":187.397,"y":452.22067},{"x":138.66891,"y":435.4751},{"x":7.751958,"y":476.4953},{"x":72.79667,"y":496.78198},{"x":200.20265,"y":495.47556},{"x":204.57507,"y":493.79703},{"x":204.57845,"y":466.22617}]},{"dots":[{"x":320.8396,"y":382.21863},{"x":254.6819,"y":388.5553},{"x":204.57845,"y":466.22617},{"x":204.57507,"y":493.79703},{"x":229.82611,"y":513.4017},{"x":268.00116,"y":509.87134},{"x":324.58337,"y":397.33643}]},{"dots":[{"x":875.2802,"y":438.24878},{"x":816.76556,"y":454.17374},{"x":847.4913,"y":515.58167},{"x":853.7142,"y":518.5521}]},{"dots":[{"x":632.9837,"y":420.86203},{"x":571.63544,"y":444.2903},{"x":569.6547,"y":445.8581},{"x":543.74603,"y":528.0273},{"x":550.101,"y":537.0089},{"x":550.7883,"y":537.34845},{"x":577.3574,"y":537.9671},{"x":640.21454,"y":527.60583},{"x":684.61066,"y":470.17645}]},{"dots":[{"x":907.1538,"y":386.3363},{"x":875.2802,"y":438.24878},{"x":853.7142,"y":518.5521},{"x":866.41833,"y":536.0192},{"x":1000,"y":530.6067},{"x":1000,"y":365.84906},{"x":948.547,"y":373.5032}]},{"dots":[{"x":816.76556,"y":454.17374},{"x":758.45764,"y":415.55206},{"x":739.6655,"y":445.2377},{"x":796.52594,"y":509.4571},{"x":847.4913,"y":515.58167}]},{"dots":[{"x":324.58337,"y":397.33643},{"x":268.00116,"y":509.87134},{"x":341.7393,"y":552.48755},{"x":343.07556,"y":425.94357}]},{"dots":[{"x":414.9355,"y":468.85648},{"x":343.07556,"y":425.94357},{"x":341.7393,"y":552.48755},{"x":349.56543,"y":563.4218},{"x":403.98083,"y":547.7885},{"x":430.3513,"y":518.5239}]},{"dots":[{"x":796.52594,"y":509.4571},{"x":739.6655,"y":445.2377},{"x":706.6067,"y":467.2357},{"x":749.8098,"y":572.3244}]},{"dots":[{"x":200.20265,"y":495.47556},{"x":72.79667,"y":496.78198},{"x":151.0817,"y":568.74347}]},{"dots":[{"x":706.6067,"y":467.2357},{"x":684.61066,"y":470.17645},{"x":640.21454,"y":527.60583},{"x":694.55994,"y":606.85596},{"x":732.772,"y":632.31934},{"x":733.32214,"y":631.7276},{"x":749.26306,"y":590.0845},{"x":749.8098,"y":572.3244}]},{"dots":[{"x":847.4913,"y":515.58167},{"x":796.52594,"y":509.4571},{"x":749.8098,"y":572.3244},{"x":749.26306,"y":590.0845},{"x":863.7229,"y":541.41516},{"x":866.41833,"y":536.0192},{"x":853.7142,"y":518.5521}]},{"dots":[{"x":200.20265,"y":495.47556},{"x":151.0817,"y":568.74347},{"x":158.6659,"y":607.65356},{"x":171.43819,"y":609.6115},{"x":226.0838,"y":592.4614},{"x":229.82611,"y":513.4017},{"x":204.57507,"y":493.79703}]},{"dots":[{"x":341.7393,"y":552.48755},{"x":268.00116,"y":509.87134},{"x":229.82611,"y":513.4017},{"x":226.0838,"y":592.4614},{"x":276.33752,"y":625.6653},{"x":325.0734,"y":624.59576},{"x":349.56543,"y":563.4218}]},{"dots":[{"x":151.0817,"y":568.74347},{"x":72.79667,"y":496.78198},{"x":7.751958,"y":476.4953},{"x":0,"y":475.59802},{"x":0,"y":635.67883},{"x":94.54228,"y":640.2017},{"x":147.42479,"y":614.1601},{"x":158.6659,"y":607.65356}]},{"dots":[{"x":507.5675,"y":513.2968},{"x":430.3513,"y":518.5239},{"x":403.98083,"y":547.7885},{"x":465.5342,"y":630.7445},{"x":529.4431,"y":563.4835},{"x":550.101,"y":537.0089},{"x":543.74603,"y":528.0273}]},{"dots":[{"x":863.7229,"y":541.41516},{"x":749.26306,"y":590.0845},{"x":733.32214,"y":631.7276},{"x":825.8441,"y":620.50366},{"x":860.71277,"y":569.16656}]},{"dots":[{"x":640.21454,"y":527.60583},{"x":577.3574,"y":537.9671},{"x":631.2836,"y":614.74725},{"x":694.55994,"y":606.85596}]},{"dots":[{"x":1000,"y":530.6067},{"x":866.41833,"y":536.0192},{"x":863.7229,"y":541.41516},{"x":860.71277,"y":569.16656},{"x":907.206,"y":652.7483},{"x":925.49677,"y":658.16315},{"x":1000,"y":661.2894}]},{"dots":[{"x":631.2836,"y":614.74725},{"x":577.3574,"y":537.9671},{"x":550.7883,"y":537.34845},{"x":581.49255,"y":652.34015},{"x":589.4411,"y":651.4693}]},{"dots":[{"x":907.206,"y":652.7483},{"x":860.71277,"y":569.16656},{"x":825.8441,"y":620.50366},{"x":866.8071,"y":656.5567}]},{"dots":[{"x":465.5342,"y":630.7445},{"x":403.98083,"y":547.7885},{"x":349.56543,"y":563.4218},{"x":325.0734,"y":624.59576},{"x":345.62662,"y":662.1038},{"x":415.6551,"y":684.35565},{"x":460.57578,"y":692.09735}]},{"dots":[{"x":529.4431,"y":563.4835},{"x":465.5342,"y":630.7445},{"x":460.57578,"y":692.09735},{"x":473.2347,"y":706.32745},{"x":526.1522,"y":720.7658},{"x":526.8127,"y":720.6147},{"x":528.82227,"y":717.7535}]},{"dots":[{"x":550.101,"y":537.0089},{"x":529.4431,"y":563.4835},{"x":528.82227,"y":717.7535},{"x":581.49255,"y":652.34015},{"x":550.7883,"y":537.34845}]},{"dots":[{"x":694.55994,"y":606.85596},{"x":631.2836,"y":614.74725},{"x":589.4411,"y":651.4693},{"x":661.42017,"y":677.7475},{"x":695.10583,"y":673.2435},{"x":732.3472,"y":636.8225},{"x":732.772,"y":632.31934}]},{"dots":[{"x":226.0838,"y":592.4614},{"x":171.43819,"y":609.6115},{"x":210.06377,"y":697.7318},{"x":218.7397,"y":699.44916},{"x":276.33752,"y":625.6653}]},{"dots":[{"x":825.8441,"y":620.50366},{"x":733.32214,"y":631.7276},{"x":732.772,"y":632.31934},{"x":732.3472,"y":636.8225},{"x":745.4826,"y":653.7545},{"x":840.32117,"y":684.7209},{"x":866.8071,"y":656.5567}]},{"dots":[{"x":171.43819,"y":609.6115},{"x":158.6659,"y":607.65356},{"x":147.42479,"y":614.1601},{"x":179.81216,"y":706.58813},{"x":210.06377,"y":697.7318}]},{"dots":[{"x":179.81216,"y":706.58813},{"x":147.42479,"y":614.1601},{"x":94.54228,"y":640.2017},{"x":156.28854,"y":715.72034}]},{"dots":[{"x":276.33752,"y":625.6653},{"x":218.7397,"y":699.44916},{"x":236.94998,"y":725.06903},{"x":296.21063,"y":704.78143},{"x":333.2543,"y":689.1621},{"x":345.62662,"y":662.1038},{"x":325.0734,"y":624.59576}]},{"dots":[{"x":661.42017,"y":677.7475},{"x":589.4411,"y":651.4693},{"x":581.49255,"y":652.34015},{"x":528.82227,"y":717.7535},{"x":526.8127,"y":720.6147},{"x":585.7101,"y":747.3386},{"x":594.6218,"y":745.605}]},{"dots":[{"x":907.206,"y":652.7483},{"x":866.8071,"y":656.5567},{"x":840.32117,"y":684.7209},{"x":840.8932,"y":711.9005},{"x":877.5743,"y":713.5944},{"x":925.49677,"y":658.16315}]},{"dots":[{"x":840.32117,"y":684.7209},{"x":745.4826,"y":653.7545},{"x":767.80725,"y":709.76074},{"x":809.86957,"y":760.7697},{"x":832.7115,"y":727.19354},{"x":840.8932,"y":711.9005}]},{"dots":[{"x":156.28854,"y":715.72034},{"x":94.54228,"y":640.2017},{"x":0,"y":635.67883},{"x":0,"y":935.05237},{"x":95.33395,"y":861.501}]},{"dots":[{"x":925.49677,"y":658.16315},{"x":877.5743,"y":713.5944},{"x":884.8634,"y":734.5284},{"x":1000,"y":789.38464},{"x":1000,"y":661.2894}]},{"dots":[{"x":661.42017,"y":677.7475},{"x":594.6218,"y":745.605},{"x":683.6468,"y":761.9674},{"x":695.10583,"y":673.2435}]},{"dots":[{"x":877.5743,"y":713.5944},{"x":840.8932,"y":711.9005},{"x":832.7115,"y":727.19354},{"x":883.97345,"y":734.9733},{"x":884.8634,"y":734.5284}]},{"dots":[{"x":296.21063,"y":704.78143},{"x":236.94998,"y":725.06903},{"x":237.57733,"y":728.34717},{"x":280.7126,"y":751.1383}]},{"dots":[{"x":296.21063,"y":704.78143},{"x":280.7126,"y":751.1383},{"x":322.73676,"y":778.21484},{"x":328.03162,"y":769.6992},{"x":333.2543,"y":689.1621}]},{"dots":[{"x":732.3472,"y":636.8225},{"x":695.10583,"y":673.2435},{"x":683.6468,"y":761.9674},{"x":697.72864,"y":785.68353},{"x":767.80725,"y":709.76074},{"x":745.4826,"y":653.7545}]},{"dots":[{"x":883.97345,"y":734.9733},{"x":832.7115,"y":727.19354},{"x":809.86957,"y":760.7697},{"x":813.24316,"y":787.64886},{"x":815.74066,"y":790.3205}]},{"dots":[{"x":415.6551,"y":684.35565},{"x":345.62662,"y":662.1038},{"x":333.2543,"y":689.1621},{"x":328.03162,"y":769.6992},{"x":365.0787,"y":763.58356}]},{"dots":[{"x":415.6551,"y":684.35565},{"x":365.0787,"y":763.58356},{"x":416.25882,"y":772.79956},{"x":458.99683,"y":729.1746},{"x":473.2347,"y":706.32745},{"x":460.57578,"y":692.09735}]},{"dots":[{"x":210.06377,"y":697.7318},{"x":179.81216,"y":706.58813},{"x":156.28854,"y":715.72034},{"x":95.33395,"y":861.501},{"x":212.88503,"y":819.5739},{"x":237.57733,"y":728.34717},{"x":236.94998,"y":725.06903},{"x":218.7397,"y":699.44916}]},{"dots":[{"x":767.80725,"y":709.76074},{"x":697.72864,"y":785.68353},{"x":702.27356,"y":799.9264},{"x":813.24316,"y":787.64886},{"x":809.86957,"y":760.7697}]},{"dots":[{"x":883.97345,"y":734.9733},{"x":815.74066,"y":790.3205},{"x":824.89703,"y":803.2093},{"x":1000,"y":849.85114},{"x":1000,"y":789.38464},{"x":884.8634,"y":734.5284}]},{"dots":[{"x":280.7126,"y":751.1383},{"x":237.57733,"y":728.34717},{"x":212.88503,"y":819.5739},{"x":286.1683,"y":833.45496},{"x":316.48978,"y":813.76715},{"x":322.73676,"y":778.21484}]},{"dots":[{"x":683.6468,"y":761.9674},{"x":594.6218,"y":745.605},{"x":585.7101,"y":747.3386},{"x":597.2151,"y":786.25977},{"x":658.67615,"y":872.6366},{"x":684.61566,"y":842.46686},{"x":702.27356,"y":799.9264},{"x":697.72864,"y":785.68353}]},{"dots":[{"x":416.25882,"y":772.79956},{"x":365.0787,"y":763.58356},{"x":328.03162,"y":769.6992},{"x":322.73676,"y":778.21484},{"x":316.48978,"y":813.76715},{"x":387.88928,"y":846.03156},{"x":407.3946,"y":812.5488}]},{"dots":[{"x":526.1522,"y":720.7658},{"x":473.2347,"y":706.32745},{"x":458.99683,"y":729.1746},{"x":459.18524,"y":812.9055},{"x":487.59845,"y":852.9606},{"x":518.0333,"y":832.00995}]},{"dots":[{"x":458.99683,"y":729.1746},{"x":416.25882,"y":772.79956},{"x":407.3946,"y":812.5488},{"x":459.18524,"y":812.9055}]},{"dots":[{"x":585.7101,"y":747.3386},{"x":526.8127,"y":720.6147},{"x":526.1522,"y":720.7658},{"x":518.0333,"y":832.00995},{"x":551.23474,"y":846.84814},{"x":597.2151,"y":786.25977}]},{"dots":[{"x":597.2151,"y":786.25977},{"x":551.23474,"y":846.84814},{"x":639.2864,"y":925.89557},{"x":658.67615,"y":872.6366}]},{"dots":[{"x":459.18524,"y":812.9055},{"x":407.3946,"y":812.5488},{"x":387.88928,"y":846.03156},{"x":433.70428,"y":933.8504},{"x":487.59845,"y":852.9606}]},{"dots":[{"x":813.24316,"y":787.64886},{"x":702.27356,"y":799.9264},{"x":684.61566,"y":842.46686},{"x":721.9192,"y":852.0057},{"x":800.20844,"y":861.2799},{"x":824.89703,"y":803.2093},{"x":815.74066,"y":790.3205}]},{"dots":[{"x":800.20844,"y":861.2799},{"x":721.9192,"y":852.0057},{"x":799.8498,"y":924.0926}]},{"dots":[{"x":1000,"y":849.85114},{"x":824.89703,"y":803.2093},{"x":800.20844,"y":861.2799},{"x":799.8498,"y":924.0926},{"x":805.2247,"y":1000},{"x":1000.0002,"y":1000}]},{"dots":[{"x":387.88928,"y":846.03156},{"x":316.48978,"y":813.76715},{"x":286.1683,"y":833.45496},{"x":301.80682,"y":1000},{"x":432.2363,"y":1000},{"x":433.70428,"y":933.8504}]},{"dots":[{"x":799.8498,"y":924.0926},{"x":721.9192,"y":852.0057},{"x":684.61566,"y":842.46686},{"x":658.67615,"y":872.6366},{"x":639.2864,"y":925.89557},{"x":639.5985,"y":1000},{"x":805.2247,"y":1000}]},{"dots":[{"x":551.23474,"y":846.84814},{"x":518.0333,"y":832.00995},{"x":487.59845,"y":852.9606},{"x":433.70428,"y":933.8504},{"x":432.2363,"y":1000},{"x":639.5985,"y":1000},{"x":639.2864,"y":925.89557}]},{"dots":[{"x":286.1683,"y":833.45496},{"x":212.88503,"y":819.5739},{"x":95.33395,"y":861.501},{"x":0,"y":935.05237},{"x":0,"y":1000},{"x":301.80682,"y":1000}]}],"arcs":[],"circles":[],"lines":[]};
var camera = [[1,0,0],[0,1,0],[0,0,1]];
var reverseCamera;

var matrixMult = function(x,y,m){
	return {
		"x":m[0][0]*x+m[1][0]*y+m[2][0],
		"y":m[0][1]*x+m[1][1]*y+m[2][1]
	};
};
var coordToCamera = function(x,y){
	return matrixMult(x,y,camera);
};
var scaleCoord = function(x,y){
	var c = camera;
	return {
		"x":c[0][0]*x+c[1][0]*y,
		"y":c[0][1]*x+c[1][1]*y
	};
}
var polygonColors = ["#CD5C5C", "#ADFF2F", "#7B68EE", "#FFA500",
"#F08080", "#00FF00", "#4682B4", "#A52A2A",
"#E9967A", "#32CD32", "#87CEFA", "#D2691E",
"#DC143C", "#00FA9A", "#4169E1",
"#B22222", "#9ACD32", "#FFD700",
"#FF69B4", "#808000", "#FFDAB9",
"#C71585", "#66CDAA", "#F0E68C",
"#DB7093", "#008B8B", "#9370DB"]; 
var getRayMult = function(){
	return 1000/(Math.abs(camera[0][0])+Math.abs(camera[0][1])+Math.abs(camera[1][0])+Math.abs(camera[1][1]));
};

var getMinor = function(m, x, y){
	var x1 = (x+1)%3;
	var x2 = (x+2)%3;
	var y1 = (y+1)%3;
	var y2 = (y+2)%3;
	return m[x1][y1]*m[x2][y2] - m[x1][y2]*m[x2][y1];
};
var getMinorMatrix = function(m){
	var result = [];
	for(var i = 0; i < 3; i++){
		result[i] = [];
		for(var j = 0; j < 3; j++){
			result[i][j] = getMinor(m, i, j);
		}
	}
	return result;
};
var backMatrix = function(m){	
	var mmin = getMinorMatrix(m);	
	var det = m[0][0] * mmin[0][0] - m[0][1] * mmin[0][1] + m[0][2] * mmin[0][2];	
	var result = [];
	for(var i = 0; i < 3; i++){
		result[i] = [];
		for(var j = 0; j < 3; j++){
			result[i][j] = mmin[j][i] / det * ((i+j)%2==0?1:-1);
		}
	}
	return result;		
};
window.onload = function() {
	var drawingCanvas = document.getElementById('smile');
	var coord;
	if(drawingCanvas && drawingCanvas.getContext) {
		var context = drawingCanvas.getContext('2d');
		if(outputRepr.camera!==undefined){
			for(var i = 0; i < 3; i++){
				for(var j = 0; j < 3; j++){
					if(outputRepr.camera[i][j] !== undefined){
						camera[i][j] = outputRepr.camera[i][j];
					}
				}
			}
		}
		reverseCamera = backMatrix(camera);
		if(outputRepr.size!==undefined){
			drawingCanvas.width = outputRepr.size.x;
			drawingCanvas.height = outputRepr.size.y;
		}
		var rayMult = getRayMult();		
		var minCorner = matrixMult(0, 0, reverseCamera);
		var maxCorner = matrixMult(drawingCanvas.width, drawingCanvas.height, reverseCamera);
		var xMin = Math.min(minCorner.x, maxCorner.x);
		var xMax = Math.max(minCorner.x, maxCorner.x);
		var xStep = (xMax - xMin) / drawingCanvas.width;
		var yMin = Math.min(minCorner.y, maxCorner.y);
		var yMax = Math.max(minCorner.y, maxCorner.y);
		
		context.shadowColor = "rgba(0,0,0,.5)";
		context.shadowBlur = 2;
		context.lineCap = 'round';
		context.lineJoin = 'round';
		context.lineWidth = 1;
		
		if(outputRepr.polygons!==undefined){
			for(var polyId = 0; polyId < outputRepr.polygons.length; polyId++){
				var poly = outputRepr.polygons[polyId];
				context.fillStyle = polygonColors[polyId % polygonColors.length];				
				
				context.beginPath();
				coord = coordToCamera(poly.dots[0].x, poly.dots[0].y);
				context.moveTo(coord.x, coord.y);
				for(var dotId = 1; dotId < poly.dots.length; dotId++){
					coord = coordToCamera(poly.dots[dotId].x, poly.dots[dotId].y);
					context.lineTo(coord.x, coord.y);
				}
				context.closePath();
				context.fill();
			}
		}
		if(outputRepr.edges!==undefined){
			context.strokeStyle = "#AA0";
			
			outputRepr.edges.forEach((elem)=>{				
				context.beginPath();
				coord = coordToCamera(elem.x1, elem.y1);
				context.moveTo(coord.x, coord.y);
				coord = coordToCamera(elem.x2, elem.y2);
				context.lineTo(coord.x, coord.y);				
				context.stroke();
			});
		}
		if(outputRepr.rays!==undefined){
			context.strokeStyle = "#0AA";
			
			outputRepr.rays.forEach((elem)=>{				
				context.beginPath();
				coord = coordToCamera(elem.x, elem.y);
				context.moveTo(coord.x, coord.y);
				var rayCoord = coordToCamera(elem.x+elem.dx*rayMult, elem.y+elem.dy*rayMult);
				context.lineTo(rayCoord.x, rayCoord.y);
				context.lineCap = 'round';
				context.stroke();
			});
		}	
		if(outputRepr.lines!==undefined){
			context.strokeStyle = "#AAA";
			
			outputRepr.lines.forEach((elem)=>{
				var x, y;
				var coord1, coord2;
				if(Math.abs(elem.dx) > Math.abs(elem.dy)){
					coord1 = coordToCamera((-elem.dy * yMin - elem.c) / elem.dx, yMin);
					coord2 = coordToCamera((-elem.dy * yMax - elem.c) / elem.dx, yMax);
				}else{
					coord1 = coordToCamera(xMin, (-elem.dx * xMin - elem.c) / elem.dy);
					coord2 = coordToCamera(xMax, (-elem.dx * xMax - elem.c) / elem.dy);
				}
				context.beginPath();
				context.moveTo(coord1.x, coord1.y);
				context.lineTo(coord2.x, coord2.y);
				context.stroke();
			});
		}
		if(outputRepr.circles!==undefined){
			context.setLineDash([5,5]);
			context.strokeStyle = "#A00";
			
			outputRepr.circles.forEach((elem)=>{
				var coord = coordToCamera(elem.x, elem.y);
				var size = scaleCoord(1, 1);
				context.beginPath();
				context.ellipse(coord.x, coord.y, elem.r*Math.abs(size.x), elem.r*Math.abs(size.y), 0, 0, Math.PI*2);
				context.stroke();
			});
			context.setLineDash([]);
		}
		if(outputRepr.arcs!==undefined){
			context.strokeStyle = "#00A";

			outputRepr.arcs.forEach((elem)=>{
				context.beginPath();
				drawMinX = Math.max(elem.minX, xMin);
				drawMaxX = Math.min(elem.maxX, xMax);
				var count = 0;
				for(var x = drawMinX; x < drawMaxX+xStep; x += xStep){
					var y = .5 * ((x - elem.fX) * (x - elem.fX) 
						+ elem.fY * elem.fY - elem.dirY * elem.dirY)
						/ (elem.fY - elem.dirY);
					var coord = coordToCamera(x,y);
					if(count==0){
						context.moveTo(coord.x, coord.y);
					}else{
						context.lineTo(coord.x, coord.y);
					}
					count++;
				}
				//context.closePath();
				context.stroke();
			});
		}
		if(outputRepr.dots!==undefined){
			context.fillStyle = "#FFF";
			context.strokeStyle = "#000";
			
			outputRepr.dots.forEach((elem)=>{				
				coord = coordToCamera(elem.x, elem.y);
				context.beginPath();
				context.arc(coord.x, coord.y, 3, 0, Math.PI*2);
				context.fill();
				context.stroke();				
			});
		}
	}
}
  </script>
 </head>
 <body>
  <canvas id="smile" width="200" height="200">
    <p>Ваш браузер не поддерживает рисование.</p>
  </canvas>
 </body>
</html>